<%= f.error_messages %>

<p>
  <%= f.label :title %><br />
  <%= f.text_field :title,:size=>80 %>
</p>
<p>
  <%= f.label :description %><br />
  <%= f.text_area :description, :cols=>80,:rows => 10 %>
</p>
<p>
	Is a requirement of: 
	<%= select(:extras,:required_id, Weal.find(:all,:conditions=>["id != ?",@weal.id]).collect {|p| [ p.title, p.id ] }, :include_blank => '-none-')%>
<p>
<p>
	For this intention I am: <%= radio_button_tag('as', 'requester', checked = @weal.requester || @weal.new_record?) %> requester
	 <%= radio_button_tag('as', 'fulfiller', checked = @weal.fulfiller) %> fulfiller
</p>
<p>
	Wealth generated by this intention will be measured in: <br />
	<% for currency in @currencies 
		exists = @weal.currencies.exists?(currency.id)
		%>
		<%= check_box_tag("currencies[#{currency.id}]",'1',exists)%> <%= currency.name %> <%=  hidden_field_tag "currencies[#{currency.id}]", '0'%>
		<%= text_field_tag("currencies[#{currency.id}_val]",exists ? @weal.currency_weal_links.find(:first,:conditions => "currency_id = #{currency.id}").link_spec : '')%>
		<br />
	<% end %>
</p>
<p>
	Tags: 
	<%= text_field_tag("tags",@weal.tag_list.join(', '),:size=>100) %>
<p>
